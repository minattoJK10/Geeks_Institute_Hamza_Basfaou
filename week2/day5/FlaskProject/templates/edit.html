{% extends "base.html" %}
{% block title %}Edit Book{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Edit Book</h1>
<form method="post" class="space-y-4">
  <div>
    <label class="block text-sm font-medium">Title *</label>
    <input type="text" name="title" value="{{ book.title }}" class="border rounded-lg px-3 py-2 w-full" required>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium">Year</label>
      <input type="number" name="year" value="{{ book.year or '' }}" class="border rounded-lg px-3 py-2 w-full">
    </div>
    <div>
      <label class="block text-sm font-medium">Category</label>
      <input type="text" name="category" value="{{ book.category or '' }}" class="border rounded-lg px-3 py-2 w-full">
    </div>
  </div>
  <div>
    <label class="block text-sm font-medium">Image URL (optional)</label>
    <input type="url" name="image_url" value="{{ book.image_url or '' }}" class="border rounded-lg px-3 py-2 w-full">
  </div>
  <div>
    <label class="block text-sm font-medium">Rating (0â€“5)</label>
    <input type="number" name="rating" min="0" max="5" value="{{ book.rating or 0 }}" class="border rounded-lg px-3 py-2 w-full">
  </div>
  <div>
    <label class="block text-sm font-medium">Authors</label>
    <select name="author_ids" multiple class="border rounded-lg px-3 py-2 w-full h-40">
      {% for a in authors %}
        <option value="{{ a.id }}" {% if a in book.authors %}selected{% endif %}>{{ a.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="flex gap-2">
    <button class="px-4 py-2 bg-amber-500 text-white rounded-lg">Save</button>
    <a href="{{ url_for('home') }}" class="px-4 py-2 bg-gray-200 rounded-lg">Cancel</a>
  </div>
</form>
{% endblock %}
