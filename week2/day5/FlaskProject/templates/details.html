{% extends "base.html" %}
{% block title %}{{ book.title }}{% endblock %}
{% block content %}
<div class="grid md:grid-cols-3 gap-6">
  <div class="md:col-span-2">
    <h1 class="text-3xl font-semibold">{{ book.title }}</h1>
    <p class="text-gray-600 mt-1">
      {% if book.year %}{{ book.year }} â€¢ {% endif %}
      {% if book.category %}{{ book.category }}{% else %}Uncategorized{% endif %}
    </p>
    <p class="mt-2">By: 
     {% if book.authors %}
      {{ book.authors | map(attribute='name') | join(', ') }}
     {% else %}
      <em>Unknown author</em>
     {% endif %}
      </p>

    <p class="mt-2"><i class="bi bi-star-fill text-yellow-600"></i> Rating: {{ book.rating }}/5</p>
    <div class="mt-4 flex gap-2">
      <a href="{{ url_for('edit_book', book_id=book.id) }}" class="px-3 py-2 bg-amber-500 text-white rounded-lg">Edit</a>
      <form action="{{ url_for('delete_book', book_id=book.id) }}" method="post" onsubmit="return confirm('Delete this book?');">
        <button class="px-3 py-2 bg-red-600 text-white rounded-lg">Delete</button>
      </form>
    </div>
  </div>
  <div>
    {% if book.image_url %}
      <img src="{{ book.image_url }}" alt="{{ book.title }}" class="rounded-xl shadow w-full object-cover">
    {% else %}
      <div class="rounded-xl shadow bg-white p-6 text-center">No Image</div>
    {% endif %}
  </div>
</div>
{% endblock %}
